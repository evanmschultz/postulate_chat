This notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources. First, we'll create an agent with a single vectorstore. We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer. IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversText embedding modelsAgents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbitsToolsVector storesGrouped by provider Callbacks Chat models Chat loaders Document loaders Document transformers LLMs Memory Retrievers Text embedding models Agents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbits AINetwork Airbyte Question Answering Amadeus Azure Cognitive Services CSV Document Comparison Github Gitlab Gmail Google Drive tool Jira JSON MultiOn Office365 OpenAPI Natural Language APIs Pandas Dataframe PlayWright Browser PowerBI Dataset Python Spark Dataframe Spark SQL SQL Database Vectorstore Xorbits Tools Vector stores Grouped by provider  Integrations Agents & Toolkits Vectorstore OpenAIEmbeddings Chroma CharacterTextSplitter TextLoader WebBaseLoader create_vectorstore_agent VectorStoreToolkit VectorStoreInfo create_vectorstore_router_agent VectorStoreRouterToolkit VectorStoreInfo Create Vectorstores Initialize Toolkit and Agent Examples Multiple Vectorstores Examples Discord Twitter Python JS/TS Homepage Blog Skip to main contentðŸ¦œï¸ðŸ”— LangChainDocsUse casesIntegrationsAPILangSmithJS/TS DocsCTRLKIntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversText embedding modelsAgents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbitsToolsVector storesGrouped by providerIntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbitsCreate VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamplesCommunityDiscordTwitterGitHubPythonJS/TSMoreHomepageBlogCopyright Â© 2023 LangChain, Inc. Skip to main content ðŸ¦œï¸ðŸ”— LangChainDocsUse casesIntegrationsAPILangSmithJS/TS DocsCTRLK ðŸ¦œï¸ðŸ”— LangChainDocsUse casesIntegrationsAPI LangSmithJS/TS DocsCTRLK  CTRLK CTRLK  CTRLK   IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversText embedding modelsAgents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbitsToolsVector storesGrouped by providerIntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbitsCreate VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamples IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversText embedding modelsAgents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbitsToolsVector storesGrouped by providerIntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbitsCreate VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamples IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversText embedding modelsAgents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbitsToolsVector storesGrouped by provider IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversText embedding modelsAgents & ToolkitsAINetworkAirbyte Question AnsweringAmadeusAzure Cognitive ServicesCSVDocument ComparisonGithubGitlabGmailGoogle Drive toolJiraJSONMultiOnOffice365OpenAPINatural Language APIsPandas DataframePlayWright BrowserPowerBI DatasetPythonSpark DataframeSpark SQLSQL DatabaseVectorstoreXorbitsToolsVector storesGrouped by provider Integrations Callbacks Chat models Chat loaders Document loaders Document transformers LLMs Memory Retrievers Text embedding models Agents & Toolkits Tools Vector stores Grouped by provider IntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbitsCreate VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamples IntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbitsCreate VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamples IntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbits IntegrationsAgents & ToolkitsVectorstoreOn this pageVectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'PreviousSQL DatabaseNextXorbits On this page VectorstoreThis notebook showcases an agent designed to retrieve information from one or more vectorstores, either with or without sources.Create Vectorstoresâ€‹from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)API Reference:OpenAIEmbeddingsChromaCharacterTextSplitterfrom langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")API Reference:TextLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")API Reference:WebBaseLoader    Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.Initialize Toolkit and Agentâ€‹First, we'll create an agent with a single vectorstore.from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfoExamplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"Multiple Vectorstoresâ€‹We can also easily use this initialize an agent with multiple vectorstores and use the agent to route between them. To do this. This agent is optimized for routing, so it is a different toolkit and initializer.from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInforuff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)Examplesâ€‹agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")            > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")            > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.' from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0) from langchain.embeddings.openai import OpenAIEmbeddingsfrom langchain.vectorstores import Chromafrom langchain.text_splitter import CharacterTextSplitterfrom langchain import OpenAI, VectorDBQAllm = OpenAI(temperature=0)  API Reference:OpenAIEmbeddingsChromaCharacterTextSplitter from langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union") from langchain.document_loaders import TextLoaderloader = TextLoader("../../../state_of_the_union.txt")documents = loader.load()text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)texts = text_splitter.split_documents(documents)embeddings = OpenAIEmbeddings()state_of_union_store = Chroma.from_documents(    texts, embeddings, collection_name="state-of-union")  API Reference:TextLoader     Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.     Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.     Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.  from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff") from langchain.document_loaders import WebBaseLoaderloader = WebBaseLoader("https://beta.ruff.rs/docs/faq/")docs = loader.load()ruff_texts = text_splitter.split_documents(docs)ruff_store = Chroma.from_documents(ruff_texts, embeddings, collection_name="ruff")  API Reference:WebBaseLoader     Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.     Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.     Running Chroma using direct local API.    Using DuckDB in-memory for database. Data will be transient.  from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True) from langchain.agents.agent_toolkits import (    create_vectorstore_agent,    VectorStoreToolkit,    VectorStoreInfo,)vectorstore_info = VectorStoreInfo(    name="state_of_union_address",    description="the most recent state of the Union adress",    vectorstore=state_of_union_store,)toolkit = VectorStoreToolkit(vectorstore_info=vectorstore_info)agent_executor = create_vectorstore_agent(llm=llm, toolkit=toolkit, verbose=True)  API Reference:create_vectorstore_agentVectorStoreToolkitVectorStoreInfo agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?") agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")              > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."             > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."             > Entering new AgentExecutor chain...     I need to find the answer in the state of the union address    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."  agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.") agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address? List the source.")              > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"             > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"             > Entering new AgentExecutor chain...     I need to use the state_of_union_address_with_sources tool to answer this question.    Action: state_of_union_address_with_sources    Action Input: What did biden say about ketanji brown jackson    Observation: {"answer": " Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence.\n", "sources": "../../state_of_the_union.txt"}    Thought: I now know the final answer    Final Answer: Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt        > Finished chain.    "Biden said that he nominated Circuit Court of Appeals Judge Ketanji Brown Jackson to the United States Supreme Court, and that she is one of the nation's top legal minds who will continue Justice Breyer's legacy of excellence. Sources: ../../state_of_the_union.txt"  from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,) from langchain.agents.agent_toolkits import (    create_vectorstore_router_agent,    VectorStoreRouterToolkit,    VectorStoreInfo,)  API Reference:create_vectorstore_router_agentVectorStoreRouterToolkitVectorStoreInfo ruff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True) ruff_vectorstore_info = VectorStoreInfo(    name="ruff",    description="Information about the Ruff python linting library",    vectorstore=ruff_store,)router_toolkit = VectorStoreRouterToolkit(    vectorstores=[vectorstore_info, ruff_vectorstore_info], llm=llm)agent_executor = create_vectorstore_router_agent(    llm=llm, toolkit=router_toolkit, verbose=True)  agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?") agent_executor.run(    "What did biden say about ketanji brown jackson in the state of the union address?")              > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."             > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."             > Entering new AgentExecutor chain...     I need to use the state_of_union_address tool to answer this question.    Action: state_of_union_address    Action Input: What did biden say about ketanji brown jackson    Observation:  Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.    Thought: I now know the final answer    Final Answer: Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence.        > Finished chain.    "Biden said that Ketanji Brown Jackson is one of the nation's top legal minds and that she will continue Justice Breyer's legacy of excellence."  agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?") agent_executor.run("What tool does ruff use to run over Jupyter Notebooks?")              > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'             > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'             > Entering new AgentExecutor chain...     I need to find out what tool ruff uses to run over Jupyter Notebooks    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I now know the final answer    Final Answer: Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html        > Finished chain.    'Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html'  agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?") agent_executor.run(    "What tool does ruff use to run over Jupyter Notebooks? Did the president mention that tool in the state of the union?")              > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'             > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'             > Entering new AgentExecutor chain...     I need to find out what tool ruff uses and if the president mentioned it in the state of the union.    Action: ruff    Action Input: What tool does ruff use to run over Jupyter Notebooks?    Observation:  Ruff is integrated into nbQA, a tool for running linters and code formatters over Jupyter Notebooks. After installing ruff and nbqa, you can run Ruff over a notebook like so: > nbqa ruff Untitled.html    Thought: I need to find out if the president mentioned nbQA in the state of the union.    Action: state_of_union_address    Action Input: Did the president mention nbQA in the state of the union?    Observation:  No, the president did not mention nbQA in the state of the union.    Thought: I now know the final answer.    Final Answer: No, the president did not mention nbQA in the state of the union.        > Finished chain.    'No, the president did not mention nbQA in the state of the union.'  Previous SQL Database Next Xorbits Create VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamples Create VectorstoresInitialize Toolkit and AgentExamplesMultiple VectorstoresExamples CommunityDiscordTwitterGitHubPythonJS/TSMoreHomepageBlogCopyright Â© 2023 LangChain, Inc. CommunityDiscordTwitterGitHubPythonJS/TSMoreHomepageBlog CommunityDiscordTwitter Community GitHubPythonJS/TS GitHub MoreHomepageBlog More Copyright Â© 2023 LangChain, Inc. Copyright Â© 2023 LangChain, Inc. Skip to main content (#docusaurus_skipToContent_fallback) ðŸ¦œï¸ðŸ”— LangChain (/) Docs (/docs/get_started/introduction) Use cases (/docs/use_cases) Integrations (/docs/integrations) API (https://api.python.langchain.com) LangSmith (https://smith.langchain.com) JS/TS Docs (https://js.langchain.com/docs)  (https://github.com/hwchase17/langchain) Integrations (/docs/integrations) Callbacks (/docs/integrations/callbacks/) Chat models (/docs/integrations/chat/) Chat loaders (/docs/integrations/chat_loaders/) Document loaders (/docs/integrations/document_loaders/) Document transformers (/docs/integrations/document_transformers/) LLMs (/docs/integrations/llms/) Memory (/docs/integrations/memory/) Retrievers (/docs/integrations/retrievers/) Text embedding models (/docs/integrations/text_embedding/) Agents & Toolkits (/docs/integrations/toolkits/) AINetwork (/docs/integrations/toolkits/ainetwork) Airbyte Question Answering (/docs/integrations/toolkits/airbyte_structured_qa) Amadeus (/docs/integrations/toolkits/amadeus) Azure Cognitive Services (/docs/integrations/toolkits/azure_cognitive_services) CSV (/docs/integrations/toolkits/csv) Document Comparison (/docs/integrations/toolkits/document_comparison_toolkit) Github (/docs/integrations/toolkits/github) Gitlab (/docs/integrations/toolkits/gitlab) Gmail (/docs/integrations/toolkits/gmail) Google Drive tool (/docs/integrations/toolkits/google_drive) Jira (/docs/integrations/toolkits/jira) JSON (/docs/integrations/toolkits/json) MultiOn (/docs/integrations/toolkits/multion) Office365 (/docs/integrations/toolkits/office365) OpenAPI (/docs/integrations/toolkits/openapi) Natural Language APIs (/docs/integrations/toolkits/openapi_nla) Pandas Dataframe (/docs/integrations/toolkits/pandas) PlayWright Browser (/docs/integrations/toolkits/playwright) PowerBI Dataset (/docs/integrations/toolkits/powerbi) Python (/docs/integrations/toolkits/python) Spark Dataframe (/docs/integrations/toolkits/spark) Spark SQL (/docs/integrations/toolkits/spark_sql) SQL Database (/docs/integrations/toolkits/sql_database) Vectorstore (/docs/integrations/toolkits/vectorstore) Xorbits (/docs/integrations/toolkits/xorbits) Tools (/docs/integrations/tools/) Vector stores (/docs/integrations/vectorstores/) Grouped by provider (/docs/integrations/providers/)  (/) Integrations (/docs/integrations) Agents & Toolkits (/docs/integrations/toolkits/) â€‹ (#create-vectorstores) OpenAIEmbeddings (https://api.python.langchain.com/en/latest/embeddings/langchain.embeddings.openai.OpenAIEmbeddings.html) Chroma (https://api.python.langchain.com/en/latest/vectorstores/langchain.vectorstores.chroma.Chroma.html) CharacterTextSplitter (https://api.python.langchain.com/en/latest/text_splitter/langchain.text_splitter.CharacterTextSplitter.html) TextLoader (https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.text.TextLoader.html) WebBaseLoader (https://api.python.langchain.com/en/latest/document_loaders/langchain.document_loaders.web_base.WebBaseLoader.html) â€‹ (#initialize-toolkit-and-agent) create_vectorstore_agent (https://api.python.langchain.com/en/latest/agents/langchain.agents.agent_toolkits.vectorstore.base.create_vectorstore_agent.html) VectorStoreToolkit (https://api.python.langchain.com/en/latest/agents/langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreToolkit.html) VectorStoreInfo (https://api.python.langchain.com/en/latest/agents/langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreInfo.html) â€‹ (#examples) â€‹ (#multiple-vectorstores) create_vectorstore_router_agent (https://api.python.langchain.com/en/latest/agents/langchain.agents.agent_toolkits.vectorstore.base.create_vectorstore_router_agent.html) VectorStoreRouterToolkit (https://api.python.langchain.com/en/latest/agents/langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreRouterToolkit.html) VectorStoreInfo (https://api.python.langchain.com/en/latest/agents/langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreInfo.html) â€‹ (#examples-1) PreviousSQL Database (/docs/integrations/toolkits/sql_database) NextXorbits (/docs/integrations/toolkits/xorbits) Create Vectorstores (#create-vectorstores) Initialize Toolkit and Agent (#initialize-toolkit-and-agent) Examples (#examples) Multiple Vectorstores (#multiple-vectorstores) Examples (#examples-1) Discord (https://discord.gg/cU2adEyC7w) Twitter (https://twitter.com/LangChainAI) Python (https://github.com/hwchase17/langchain) JS/TS (https://github.com/hwchase17/langchainjs) Homepage (https://langchain.com) Blog (https://blog.langchain.dev)