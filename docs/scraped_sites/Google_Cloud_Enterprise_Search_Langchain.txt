Enterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud. Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications.  Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results.  Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration.  This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API. You need to install the google-cloud-discoverengine package to use the Enterprise Search retriever. Enterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial. Before you can run this notebook you need to: Follow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder. Use Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option. The Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code. If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set. The Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. Depending on the data type used in Enterprise search (structured or unstructured) the page_content field is populated as follows: An extractive answer is verbatim text that is returned with each search result. It is extracted directly from the original document. Extractive answers are typically displayed near the top of web pages to provide an end user with a brief answer that is contextually relevant to their query. Extractive answers are available for website and unstructured search. An extractive segment is verbatim text that is returned with each search result. An extractive segment is usually more verbose than an extractive answer. Extractive segments can be displayed as an answer to a query, and can be used to perform post-processing tasks and as input for large language models to generate answers or new text. Extractive segments are available for unstructured search. For more information about extractive segments and extractive answers refer to product documentation. When creating an instance of the retriever you can specify a number of parameters that control which Enterprise data store to access and how a natural language query is processed, including configurations for extractive answers and segments. The project_id and search_engine_id parameters can be provided explicitly in the retriever's constructor or through the environment variables - PROJECT_ID and SEARCH_ENGINE_ID. You can also configure a number of optional parameters, including: IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZepText embedding modelsAgents & ToolkitsToolsVector storesGrouped by provider Callbacks Chat models Chat loaders Document loaders Document transformers LLMs Memory RetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZep Amazon Kendra Arxiv Azure Cognitive Search BM25 Chaindesk ChatGPT Plugin Cohere Reranker DocArray Retriever ElasticSearch BM25 Google Cloud Enterprise Search Google Drive Retriever kNN LOTR (Merger Retriever) Metal Pinecone Hybrid Search PubMed RePhraseQueryRetriever SVM TF-IDF Vespa Weaviate Hybrid Search Wikipedia Zep Text embedding models Agents & Toolkits Tools Vector stores Grouped by provider  Integrations Retrievers Google Cloud Enterprise Search Set or create a Google Cloud project and turn on Gen App Builder Create and populate an unstructured data store Set credentials to access Enterprise Search API Structured data source: either an extractive segment or an extractive answer that matches a query. The metadata field is populated with metadata (if any) of the document from which the segments or answers were extracted. Unstructured data source: a string json containing all the fields returned from the structured data source. The metadata field is populated with metadata (if any) of the document   project_id - Your Google Cloud PROJECT_ID search_engine_id - The ID of the data store you want to use.  max_documents - The maximum number of documents used to provide extractive segments or extractive answers get_extractive_answers - By default, the retriever is configured to return extractive segments. Set this field to True to return extractive answers. This is used only when engine_data_type set to 0 (unstructured)  max_extractive_answer_count - The maximum number of extractive answers returned in each search result. At most 5 answers will be returned. This is used only when engine_data_type set to 0 (unstructured)  max_extractive_segment_count - The maximum number of extractive segments returned in each search result. Currently one segment will be returned. This is used only when engine_data_type set to 0 (unstructured)  filter - The filter expression that allows you filter the search results based on the metadata associated with the documents in the searched data store.  query_expansion_condition - Specification to determine under which conditions query expansion should occur. 0 - Unspecified query expansion condition. In this case, server behavior defaults to disabled. 1 - Disabled query expansion. Only the exact search query is used, even if SearchResponse.total_size is zero. 2 - Automatic query expansion built by the Search API. engine_data_type -  Defines the enterprise search data type 0 - Unstructured data 1 - Structured data GoogleCloudEnterpriseSearchRetriever Install pre-requisites Configure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search API Set or create a Google Cloud poject and turn on Gen App Builder Create and populate an unstructured data store Set credentials to access Enterprise Search API Configure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answers Only for Unstructured data sources: The mandatory parameters are: Configure and use the retriever for unstructured data with extractve segments Configure and use the retriever for unstructured data with extractve answers Configure and use the retriever for structured data with extractve answers Discord Twitter Python JS/TS Homepage Blog Skip to main contentü¶úÔ∏èüîó LangChainDocsUse casesIntegrationsAPILangSmithJS/TS DocsCTRLKIntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZepText embedding modelsAgents & ToolkitsToolsVector storesGrouped by providerIntegrationsRetrieversGoogle Cloud Enterprise SearchOn this pageGoogle Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. Depending on the data type used in Enterprise search (structured or unstructured) the page_content field is populated as follows:Structured data source: either an extractive segment or an extractive answer that matches a query. The metadata field is populated with metadata (if any) of the document from which the segments or answers were extracted.Unstructured data source: a string json containing all the fields returned from the structured data source. The metadata field is populated with metadata (if any) of the document  Only for Unstructured data sources:‚ÄãAn extractive answer is verbatim text that is returned with each search result. It is extracted directly from the original document. Extractive answers are typically displayed near the top of web pages to provide an end user with a brief answer that is contextually relevant to their query. Extractive answers are available for website and unstructured search.An extractive segment is verbatim text that is returned with each search result. An extractive segment is usually more verbose than an extractive answer. Extractive segments can be displayed as an answer to a query, and can be used to perform post-processing tasks and as input for large language models to generate answers or new text. Extractive segments are available for unstructured search.For more information about extractive segments and extractive answers refer to product documentation.When creating an instance of the retriever you can specify a number of parameters that control which Enterprise data store to access and how a natural language query is processed, including configurations for extractive answers and segments.The mandatory parameters are:‚Äãproject_id - Your Google Cloud PROJECT_IDsearch_engine_id - The ID of the data store you want to use. The project_id and search_engine_id parameters can be provided explicitly in the retriever's constructor or through the environment variables - PROJECT_ID and SEARCH_ENGINE_ID.You can also configure a number of optional parameters, including:max_documents - The maximum number of documents used to provide extractive segments or extractive answersget_extractive_answers - By default, the retriever is configured to return extractive segments. Set this field to True to return extractive answers. This is used only when engine_data_type set to 0 (unstructured) max_extractive_answer_count - The maximum number of extractive answers returned in each search result. At most 5 answers will be returned. This is used only when engine_data_type set to 0 (unstructured) max_extractive_segment_count - The maximum number of extractive segments returned in each search result. Currently one segment will be returned. This is used only when engine_data_type set to 0 (unstructured) filter - The filter expression that allows you filter the search results based on the metadata associated with the documents in the searched data store. query_expansion_condition - Specification to determine under which conditions query expansion should occur. 2 - Automatic query expansion built by the Search API.engine_data_type -  Defines the enterprise search data type 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)PreviousElasticSearch BM25NextGoogle Drive RetrieverInstall pre-requisitesConfigure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APIConfigure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answersCommunityDiscordTwitterGitHubPythonJS/TSMoreHomepageBlogCopyright ¬© 2023 LangChain, Inc. Skip to main content ü¶úÔ∏èüîó LangChainDocsUse casesIntegrationsAPILangSmithJS/TS DocsCTRLK ü¶úÔ∏èüîó LangChainDocsUse casesIntegrationsAPI LangSmithJS/TS DocsCTRLK  CTRLK CTRLK  CTRLK   IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZepText embedding modelsAgents & ToolkitsToolsVector storesGrouped by providerIntegrationsRetrieversGoogle Cloud Enterprise SearchOn this pageGoogle Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)PreviousElasticSearch BM25NextGoogle Drive RetrieverInstall pre-requisitesConfigure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APIConfigure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answers IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZepText embedding modelsAgents & ToolkitsToolsVector storesGrouped by providerIntegrationsRetrieversGoogle Cloud Enterprise SearchOn this pageGoogle Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)PreviousElasticSearch BM25NextGoogle Drive RetrieverInstall pre-requisitesConfigure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APIConfigure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answers IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZepText embedding modelsAgents & ToolkitsToolsVector storesGrouped by provider IntegrationsCallbacksChat modelsChat loadersDocument loadersDocument transformersLLMsMemoryRetrieversAmazon KendraArxivAzure Cognitive SearchBM25ChaindeskChatGPT PluginCohere RerankerDocArray RetrieverElasticSearch BM25Google Cloud Enterprise SearchGoogle Drive RetrieverkNNLOTR (Merger Retriever)MetalPinecone Hybrid SearchPubMedRePhraseQueryRetrieverSVMTF-IDFVespaWeaviate Hybrid SearchWikipediaZepText embedding modelsAgents & ToolkitsToolsVector storesGrouped by provider Integrations Callbacks Chat models Chat loaders Document loaders Document transformers LLMs Memory Retrievers Text embedding models Agents & Toolkits Tools Vector stores Grouped by provider IntegrationsRetrieversGoogle Cloud Enterprise SearchOn this pageGoogle Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)PreviousElasticSearch BM25NextGoogle Drive RetrieverInstall pre-requisitesConfigure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APIConfigure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answers IntegrationsRetrieversGoogle Cloud Enterprise SearchOn this pageGoogle Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)PreviousElasticSearch BM25NextGoogle Drive Retriever IntegrationsRetrieversGoogle Cloud Enterprise SearchOn this pageGoogle Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)PreviousElasticSearch BM25NextGoogle Drive Retriever On this page Google Cloud Enterprise SearchEnterprise Search is a part of the Generative AI App Builder suite of tools offered by Google Cloud.Gen AI App Builder lets developers, even those with limited machine learning skills, quickly and easily tap into the power of Google‚Äôs foundation models, search expertise, and conversational AI technologies to create enterprise-grade generative AI applications. Enterprise Search lets organizations quickly build generative AI powered search engines for customers and employees.Enterprise Search is underpinned by a variety of Google Search technologies, including semantic search, which helps deliver more relevant results than traditional keyword-based search techniques by using natural language processing and machine learning techniques to infer relationships within the content and intent from the user‚Äôs query input. Enterprise Search also benefits from Google‚Äôs expertise in understanding how users search and factors in content relevance to order displayed results. Google Cloud offers Enterprise Search via Gen App Builder in Google Cloud Console and via an API for enterprise workflow integration. This notebook demonstrates how to configure Enterprise Search and use the Enterprise Search retriever. The Enterprise Search retriever encapsulates the Generative AI App Builder Python client library and uses it to access the Enterprise Search Search Service API.Install pre-requisites‚ÄãYou need to install the google-cloud-discoverengine package to use the Enterprise Search retriever.pip install google-cloud-discoveryengineConfigure access to Google Cloud and Google Cloud Enterprise Search‚ÄãEnterprise Search is generally available for the allowlist (which means customers need to be approved for access) as of June 6, 2023. Contact your Google Cloud sales team for access and pricing details. We are previewing additional features that are coming soon to the generally available offering as part of our Trusted Tester program. Sign up for Trusted Tester and contact your Google Cloud sales team for an expedited trial.Before you can run this notebook you need to:Set or create a Google Cloud project and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APISet or create a Google Cloud poject and turn on Gen App Builder‚ÄãFollow the instructions in the Enterprise Search Getting Started guide to set/create a GCP project and enable Gen App Builder.Create and populate an unstructured data store‚ÄãUse Google Cloud Console to create an unstructured data store and populate it with the example PDF documents from the  gs://cloud-samples-data/gen-app-builder/search/alphabet-investor-pdfs Cloud Storage folder. Make sure to use the Cloud Storage (without metadata) option.Set credentials to access Enterprise Search API‚ÄãThe Gen App Builder client libraries used by the Enterprise Search retriever provide high-level language support for authenticating to Gen App Builder programmatically. Client libraries support Application Default Credentials (ADC); the libraries look for credentials in a set of defined locations and use those credentials to authenticate requests to the API. With ADC, you can make credentials available to your application in a variety of environments, such as local development or production, without needing to modify your application code.If running in Google Colab authenticate with google.colab.google.auth otherwise follow one of the supported methods to make sure that you Application Default Credentials are properly set.import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()Configure and use the Enterprise Search retriever‚ÄãThe Enterprise Search retriever is implemented in the langchain.retriever.GoogleCloudEntepriseSearchRetriever class. The get_relevant_documents method returns a list of langchain.schema.Document documents where the page_content field of each document is populated the document content. 1 - Structured dataConfigure and use the retriever for unstructured data with extractve segments‚Äãfrom langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store IDAPI Reference:GoogleCloudEnterpriseSearchRetrieverretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for unstructured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)Configure and use the retriever for structured data with extractve answers‚Äãretriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc) pip install google-cloud-discoveryengine pip install google-cloud-discoveryengine  import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user() import sysif "google.colab" in sys.modules:    from google.colab import auth as google_auth    google_auth.authenticate_user()  from langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store ID from langchain.retrievers import GoogleCloudEnterpriseSearchRetrieverPROJECT_ID = "<YOUR PROJECT ID>"  # Set to your Project IDSEARCH_ENGINE_ID = "<YOUR SEARCH ENGINE ID>"  # Set to your data store ID  API Reference:GoogleCloudEnterpriseSearchRetriever retriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,) retriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,)  query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc) query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)  retriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,) retriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    max_extractive_answer_count=3,    get_extractive_answers=True,)  query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc) query = "What are Alphabet's Other Bets?"result = retriever.get_relevant_documents(query)for doc in result:    print(doc)  retriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc) retriever = GoogleCloudEnterpriseSearchRetriever(    project_id=PROJECT_ID,    search_engine_id=SEARCH_ENGINE_ID,    max_documents=3,    engine_data_type=1)result = retriever.get_relevant_documents(query)for doc in result:    print(doc)  Previous ElasticSearch BM25 Next Google Drive Retriever Install pre-requisitesConfigure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APIConfigure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answers Install pre-requisitesConfigure access to Google Cloud and Google Cloud Enterprise SearchSet or create a Google Cloud poject and turn on Gen App BuilderCreate and populate an unstructured data storeSet credentials to access Enterprise Search APIConfigure and use the Enterprise Search retrieverOnly for Unstructured data sources:The mandatory parameters are:Configure and use the retriever for unstructured data with extractve segmentsConfigure and use the retriever for unstructured data with extractve answersConfigure and use the retriever for structured data with extractve answers CommunityDiscordTwitterGitHubPythonJS/TSMoreHomepageBlogCopyright ¬© 2023 LangChain, Inc. CommunityDiscordTwitterGitHubPythonJS/TSMoreHomepageBlog CommunityDiscordTwitter Community GitHubPythonJS/TS GitHub MoreHomepageBlog More Copyright ¬© 2023 LangChain, Inc. Copyright ¬© 2023 LangChain, Inc. Skip to main content (#docusaurus_skipToContent_fallback) ü¶úÔ∏èüîó LangChain (/) Docs (/docs/get_started/introduction) Use cases (/docs/use_cases) Integrations (/docs/integrations) API (https://api.python.langchain.com) LangSmith (https://smith.langchain.com) JS/TS Docs (https://js.langchain.com/docs)  (https://github.com/hwchase17/langchain) Integrations (/docs/integrations) Callbacks (/docs/integrations/callbacks/) Chat models (/docs/integrations/chat/) Chat loaders (/docs/integrations/chat_loaders/) Document loaders (/docs/integrations/document_loaders/) Document transformers (/docs/integrations/document_transformers/) LLMs (/docs/integrations/llms/) Memory (/docs/integrations/memory/) Retrievers (/docs/integrations/retrievers/) Amazon Kendra (/docs/integrations/retrievers/amazon_kendra_retriever) Arxiv (/docs/integrations/retrievers/arxiv) Azure Cognitive Search (/docs/integrations/retrievers/azure_cognitive_search) BM25 (/docs/integrations/retrievers/bm25) Chaindesk (/docs/integrations/retrievers/chaindesk) ChatGPT Plugin (/docs/integrations/retrievers/chatgpt-plugin) Cohere Reranker (/docs/integrations/retrievers/cohere-reranker) DocArray Retriever (/docs/integrations/retrievers/docarray_retriever) ElasticSearch BM25 (/docs/integrations/retrievers/elastic_search_bm25) Google Cloud Enterprise Search (/docs/integrations/retrievers/google_cloud_enterprise_search) Google Drive Retriever (/docs/integrations/retrievers/google_drive) kNN (/docs/integrations/retrievers/knn) LOTR (Merger Retriever) (/docs/integrations/retrievers/merger_retriever) Metal (/docs/integrations/retrievers/metal) Pinecone Hybrid Search (/docs/integrations/retrievers/pinecone_hybrid_search) PubMed (/docs/integrations/retrievers/pubmed) RePhraseQueryRetriever (/docs/integrations/retrievers/re_phrase) SVM (/docs/integrations/retrievers/svm) TF-IDF (/docs/integrations/retrievers/tf_idf) Vespa (/docs/integrations/retrievers/vespa) Weaviate Hybrid Search (/docs/integrations/retrievers/weaviate-hybrid) Wikipedia (/docs/integrations/retrievers/wikipedia) Zep (/docs/integrations/retrievers/zep_memorystore) Text embedding models (/docs/integrations/text_embedding/) Agents & Toolkits (/docs/integrations/toolkits/) Tools (/docs/integrations/tools/) Vector stores (/docs/integrations/vectorstores/) Grouped by provider (/docs/integrations/providers/)  (/) Integrations (/docs/integrations) Retrievers (/docs/integrations/retrievers/) Enterprise Search (https://cloud.google.com/enterprise-search) Generative AI App Builder Python client library (https://cloud.google.com/generative-ai-app-builder/docs/libraries#client-libraries-install-python) Search Service API (https://cloud.google.com/python/docs/reference/discoveryengine/latest/google.cloud.discoveryengine_v1beta.services.search_service) ‚Äã (#install-pre-requisites) ‚Äã (#configure-access-to-google-cloud-and-google-cloud-enterprise-search) Trusted Tester (https://cloud.google.com/ai/earlyaccess/join?hl=en) Trusted Tester (https://cloud.google.com/ai/earlyaccess/join?hl=en) ‚Äã (#set-or-create-a-google-cloud-poject-and-turn-on-gen-app-builder) Enterprise Search Getting Started guide (https://cloud.google.com/generative-ai-app-builder/docs/before-you-begin) ‚Äã (#create-and-populate-an-unstructured-data-store) Use Google Cloud Console to create an unstructured data store (https://cloud.google.com/generative-ai-app-builder/docs/create-engine-es#unstructured-data) ‚Äã (#set-credentials-to-access-enterprise-search-api) Gen App Builder client libraries (https://cloud.google.com/generative-ai-app-builder/docs/libraries) Application Default Credentials (ADC) (https://cloud.google.com/docs/authentication/application-default-credentials) Google Colab (https://colab.google) supported methods (https://cloud.google.com/docs/authentication/application-default-credentials) ‚Äã (#configure-and-use-the-enterprise-search-retriever) ‚Äã (#only-for-unstructured-data-sources) product documentation (https://cloud.google.com/generative-ai-app-builder/docs/snippets) ‚Äã (#the-mandatory-parameters-are) ‚Äã (#configure-and-use-the-retriever-for-unstructured-data-with-extractve-segments) GoogleCloudEnterpriseSearchRetriever (https://api.python.langchain.com/en/latest/retrievers/langchain.retrievers.google_cloud_enterprise_search.GoogleCloudEnterpriseSearchRetriever.html) ‚Äã (#configure-and-use-the-retriever-for-unstructured-data-with-extractve-answers) ‚Äã (#configure-and-use-the-retriever-for-structured-data-with-extractve-answers) PreviousElasticSearch BM25 (/docs/integrations/retrievers/elastic_search_bm25) NextGoogle Drive Retriever (/docs/integrations/retrievers/google_drive) Install pre-requisites (#install-pre-requisites) Configure access to Google Cloud and Google Cloud Enterprise Search (#configure-access-to-google-cloud-and-google-cloud-enterprise-search) Set or create a Google Cloud poject and turn on Gen App Builder (#set-or-create-a-google-cloud-poject-and-turn-on-gen-app-builder) Create and populate an unstructured data store (#create-and-populate-an-unstructured-data-store) Set credentials to access Enterprise Search API (#set-credentials-to-access-enterprise-search-api) Configure and use the Enterprise Search retriever (#configure-and-use-the-enterprise-search-retriever) Only for Unstructured data sources: (#only-for-unstructured-data-sources) The mandatory parameters are: (#the-mandatory-parameters-are) Configure and use the retriever for unstructured data with extractve segments (#configure-and-use-the-retriever-for-unstructured-data-with-extractve-segments) Configure and use the retriever for unstructured data with extractve answers (#configure-and-use-the-retriever-for-unstructured-data-with-extractve-answers) Configure and use the retriever for structured data with extractve answers (#configure-and-use-the-retriever-for-structured-data-with-extractve-answers) Discord (https://discord.gg/cU2adEyC7w) Twitter (https://twitter.com/LangChainAI) Python (https://github.com/hwchase17/langchain) JS/TS (https://github.com/hwchase17/langchainjs) Homepage (https://langchain.com) Blog (https://blog.langchain.dev)